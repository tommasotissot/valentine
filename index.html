<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taisia â™¥ï¸ Valentine</title>

<style>
body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  background:black;
}

/* background image */
body::before {
  content:"";
  position:fixed;
  inset:0;
  background:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
    url("bg.jpg") center center / contain no-repeat;
  filter: blur(2px);
}

body::after {
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.45));
}

/* card */
.card {
  position:relative;
  z-index:2;
  background:rgba(255,255,255,0.92);
  width:92%;
  max-width:420px;
  border-radius:22px;
  padding:26px 20px 30px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.35);
}

h1 { color:#e91e63; margin:6px 0; }
p { color:#555; }

button {
  width:100%;
  padding:16px;
  font-size:19px;
  border:none;
  border-radius:16px;
  margin-top:12px;
}

#yesBtn { background:#e91e63; color:white; }

/* runaway NO button */
#noBtn {
  position:fixed;
  width:140px;
  background:#eee;
  z-index:5;
  transition: left 0.15s ease, top 0.15s ease; /* smooth movement */
}

/* result text */
#result {
  display:none;
  margin-top:18px;
  font-size:18px;
  color:#e91e63;
  line-height:1.4;
}

/* floating hearts */
.heart {
  position:fixed;
  bottom:-20px;
  font-size:22px;
  animation:floatUp linear forwards;
  pointer-events:none;
}

@keyframes floatUp {
  to { transform:translateY(-120vh); opacity:0; }
}

/* angry emoji pop */
.angry {
  position: fixed;
  font-size: 34px;
  z-index: 20;
  animation: angryPop 0.9s ease forwards;
  pointer-events: none;
}

@keyframes angryPop {
  0%   { transform: scale(.3); opacity:0; }
  40%  { transform: scale(1.2); opacity:1; }
  100% { transform: translateY(-40px) scale(.9); opacity:0; }
}
</style>
</head>

<body>

<div class="card">
  <h1>Taisia â™¥ï¸</h1>
  <p>
    Even if weâ€™re far apartâ€¦<br>
    will you be my Valentine?
  </p>

  <button id="yesBtn">YES ğŸ˜</button>

  <div id="result">
    Distance doesnâ€™t change what I feel for you ğŸ’˜<br>
    Iâ€™m yours â€” today and every day ğŸŒ¹
  </div>
</div>

<button id="noBtn">No ğŸ™ˆ</button>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const result = document.getElementById("result");

/* initial NO position */
function placeNo(){
  noBtn.style.left = "55%";
  noBtn.style.top = "72%";
}
placeNo();

/* smooth dodge logic */
function moveNoSmooth(e){
  const btnRect = noBtn.getBoundingClientRect();
  const btnX = btnRect.left + btnRect.width/2;
  const btnY = btnRect.top + btnRect.height/2;

  const touchX = e.touches ? e.touches[0].clientX : e.clientX;
  const touchY = e.touches ? e.touches[0].clientY : e.clientY;

  let dx = btnX - touchX;
  let dy = btnY - touchY;

  // distance from finger
  const distance = Math.sqrt(dx*dx + dy*dy);
  const factor = Math.min(300, Math.max(100, 400 - distance)); // closer -> bigger dodge

  // normalize vector
  const angle = Math.atan2(dy, dx);
  const moveX = Math.cos(angle) * factor;
  const moveY = Math.sin(angle) * factor;

  // calculate new position
  let newLeft = btnRect.left + moveX;
  let newTop = btnRect.top + moveY;

  // clamp to window
  newLeft = Math.max(10, Math.min(window.innerWidth - btnRect.width - 10, newLeft));
  newTop = Math.max(10, Math.min(window.innerHeight - btnRect.height - 10, newTop));

  // move button
  noBtn.style.left = newLeft + "px";
  noBtn.style.top  = newTop + "px";
}

/* NO press handler */
function handleNo(e){
  // prevent ghost clicks
  noBtn.style.pointerEvents = "none";

  moveNoSmooth(e);
  angryBurst(e);

  setTimeout(() => { noBtn.style.pointerEvents = "auto"; }, 50);
  e.preventDefault();
}

/* add both touch and click events */
noBtn.addEventListener("touchstart", handleNo);
noBtn.addEventListener("mousemove", handleNo); // dodge when mouse moves
noBtn.addEventListener("click", e => e.preventDefault()); // prevent accidental clicks

/* angry emoji burst */
function angryBurst(e){
  const emojis = ["ğŸ˜ ","ğŸ˜¤","ğŸ’¢","ğŸ˜¡"];
  for(let i=0;i<6;i++){
    const a = document.createElement("div");
    a.className = "angry";
    a.innerHTML = emojis[Math.floor(Math.random()*emojis.length)];

    const x = e.touches ? e.touches[0].clientX : e.clientX;
    const y = e.touches ? e.touches[0].clientY : e.clientY;

    a.style.left = (x + (Math.random()*60-30)) + "px";
    a.style.top  = (y + (Math.random()*60-30)) + "px";

    document.body.appendChild(a);
    setTimeout(()=>a.remove(), 900);
  }
}

/* YES click */
yesBtn.onclick = () => {
  result.style.display = "block";
  noBtn.style.display = "none";
  burst();
};

/* hearts */
function heart(){
  const h = document.createElement("div");
  h.className="heart";
  h.innerHTML="â™¥ï¸";
  h.style.left=Math.random()*100+"vw";
  h.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),7000);
}

setInterval(heart,700);

function burst(){
  for(let i=0;i<28;i++){
    setTimeout(heart,i*60);
  }
}
</script>

</body>
</html>
