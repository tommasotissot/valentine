<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Taisia ‚ô•Ô∏è Valentine</title>

<style>
body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  height:100vh;
  overflow:hidden;
  display:flex;
  justify-content:center;
  align-items:center;
  position:relative;
  background:black;
}

/* background */
body::before {
  content:"";
  position:fixed;
  inset:0;
  background:
    linear-gradient(rgba(0,0,0,0.35), rgba(0,0,0,0.35)),
    url("bg.jpg") center center / contain no-repeat;
  filter: blur(2px);
}

body::after {
  content:"";
  position:fixed;
  inset:0;
  background:linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.45));
}

/* card */
.card {
  position:relative;
  z-index:2;
  background:rgba(255,255,255,0.92);
  width:92%;
  max-width:420px;
  border-radius:22px;
  padding:26px 20px 30px;
  text-align:center;
  box-shadow:0 20px 40px rgba(0,0,0,.35);
  transition: opacity .5s ease, transform .5s ease;
}

.card.hide {
  opacity:0;
  transform:scale(.9);
}

h1 { color:#e91e63; margin:6px 0; }
p { color:#555; }

button {
  width:100%;
  padding:16px;
  font-size:19px;
  border:none;
  border-radius:16px;
  margin-top:12px;
  -webkit-appearance: none;
  appearance: none;
  color: black; /* force text color */
}

#yesBtn {
  background:#e91e63;
  color:white;
  font-weight: 700; /* bold */
}

#noBtn {
  position:fixed;
  width:140px;
  background:#eee;
  z-index:5;
  transition:left .15s ease, top .15s ease;
  color: black; /* force override */
}

#result {
  display:none;
  margin-top:18px;
  font-size:18px;
  color:#e91e63;
  line-height:1.4;
  min-height:60px;
}

/* finale overlay */
#finale {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 100%;
  z-index: 30;
  text-align: center;
  color: white;
  font-size: 28px;
  opacity: 0;
  pointer-events: none;
  transition: opacity .8s ease;
}

.finale-inner {
  padding: 30px;
  box-sizing: border-box;
}

#finale.show {
  opacity:1;
}

/* confetti */
.confetti {
  position:fixed;
  bottom:-20px;
  font-size:22px;
  animation:floatUp linear forwards;
  pointer-events:none;
}

@keyframes floatUp {
  to { transform:translateY(-120vh) rotate(360deg); opacity:0; }
}

/* angry emoji */
.angry {
  position: fixed;
  font-size: 34px;
  z-index: 20;
  animation: angryPop 0.9s ease forwards;
  pointer-events: none;
}

@keyframes angryPop {
  0% { transform: scale(.3); opacity:0; }
  40% { transform: scale(1.2); opacity:1; }
  100% { transform: translateY(-40px) scale(.9); opacity:0; }
}
</style>
</head>

<body>

<div class="card" id="card">
  <h1>Taisia ‚ô•Ô∏è</h1>
  <p>
    Even if we‚Äôre far apart‚Ä¶<br>
    will you be my Valentine?
  </p>

  <button id="yesBtn">YES üòç</button>
  <div id="result"></div>
</div>

<div id="finale">
  <div class="finale-inner">
    Forever yours ‚ô•Ô∏è<br>
    No distance can change that üåπ
  </div>
</div>

<button id="noBtn">No üôà</button>

<script>
const noBtn = document.getElementById("noBtn");
const yesBtn = document.getElementById("yesBtn");
const result = document.getElementById("result");
const card = document.getElementById("card");
const finale = document.getElementById("finale");

/* place NO */
function placeNo(){
  const w = noBtn.offsetWidth;
  const h = noBtn.offsetHeight;

  noBtn.style.left = (window.innerWidth  - w)/2 + "px";
  noBtn.style.top  = "70%";
}

window.addEventListener("load", placeNo);


/* vibration */
function vibrate(ms){
  if(navigator.vibrate) navigator.vibrate(ms);
}

/* dodge */
function moveNoSmooth(e){
  const r=noBtn.getBoundingClientRect();
  const bx=r.left+r.width/2;
  const by=r.top+r.height/2;
  const x=e.touches?e.touches[0].clientX:e.clientX;
  const y=e.touches?e.touches[0].clientY:e.clientY;

  const dx=bx-x, dy=by-y;
  const dist=Math.sqrt(dx*dx+dy*dy);
  const force=Math.min(300,Math.max(120,420-dist));
  const ang=Math.atan2(dy,dx);

  let nl=r.left+Math.cos(ang)*force;
  let nt=r.top +Math.sin(ang)*force;

  nl=Math.max(10,Math.min(innerWidth-r.width-10,nl));
  nt=Math.max(10,Math.min(innerHeight-r.height-10,nt));

  noBtn.style.left=nl+"px";
  noBtn.style.top =nt+"px";
}

function handleNo(e){
  noBtn.style.pointerEvents="none";
  moveNoSmooth(e);
  angryBurst(e);
  vibrate(25);
  setTimeout(()=>noBtn.style.pointerEvents="auto",60);
  e.preventDefault();
}

noBtn.addEventListener("touchstart",handleNo);
noBtn.addEventListener("mousemove",handleNo);
noBtn.addEventListener("click",e=>e.preventDefault());

/* angry burst */
function angryBurst(e){
  const emojis=["üò†","üò§","üí¢","üò°"];
  const x=e.touches?e.touches[0].clientX:e.clientX;
  const y=e.touches?e.touches[0].clientY:e.clientY;
  for(let i=0;i<6;i++){
    const a=document.createElement("div");
    a.className="angry";
    a.innerHTML=emojis[Math.random()*4|0];
    a.style.left=(x+(Math.random()*60-30))+"px";
    a.style.top =(y+(Math.random()*60-30))+"px";
    document.body.appendChild(a);
    setTimeout(()=>a.remove(),900);
  }
}

/* typewriter */
function typeText(html,speed=30){
  result.innerHTML="";
  result.style.display="block";
  let i=0;
  const t=setInterval(()=>{
    result.innerHTML=html.slice(0,i++);
    if(i>html.length) clearInterval(t);
  },speed);
}

/* confetti */
const shapes=["üíñ","‚ú®","üåπ","‚ô•Ô∏è","üíò","ü©∑"];
function confetti(){
  const c=document.createElement("div");
  c.className="confetti";
  c.innerHTML=shapes[Math.random()*shapes.length|0];
  c.style.left=Math.random()*100+"vw";
  c.style.animationDuration=(4+Math.random()*3)+"s";
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),7000);
}

function confettiBurst(n=40,delay=40){
  for(let i=0;i<n;i++){
    setTimeout(confetti,i*delay);
  }
}

/* finale */
function showFinale(){
  card.classList.add("hide");
  setTimeout(()=>{
    finale.classList.add("show");
  },500);

  // soft background pulse
  document.body.animate(
    [{filter:"brightness(1)"},{filter:"brightness(1.4)"},{filter:"brightness(1)"}],
    {duration:1200}
  );
}

/* YES */
yesBtn.onclick=()=>{
  noBtn.style.display="none";

  typeText(
    "Distance doesn‚Äôt change what I feel for you üíò<br>I‚Äôm yours ‚Äî today and every day üåπ"
  );

  confettiBurst();
  vibrate(80);

  setTimeout(showFinale, 7500);
};
</script>

</body>
</html>
